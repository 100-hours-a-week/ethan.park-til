### 새로 배운 내용 : 도메인

# 도메인
: 애플리케이션이 해결하고자 하는 문제 영역

- 개발하기 전 도메인을 먼저 분석하고 요구사항을 정리하는 단계가 먼저다
    - 신규 프로젝트 시작 전 스프링, JPA와 같은 도구들을 먼저 설계하는 것이 아닌 도메인을 파악하는 것이 중요하다
- 보일러플레이트(boilerplate)
    - 새로운 소프트웨어 프로젝트를 시작할 때 기본적으로 필요한 구성 요소나 의존성, 기능 등을 미리 갖춰놓은 프로젝트
        - 반복적인 설정 작업을 건너뛸 수 있으므로 빠르게 개발에 집중할 수 있게 된다

## 도메인 모델과 영속성 객체

- 구분하기 전략
    - 도메인(Account 클래스)과 영속성 객체(AccountJpaEntity 클래스 - `@Entity` 사용)를 분리하는 전략
- 통합하기 전략
    - 도메인과 영속성 객체를 통합시키는 전략(Account 클래스에 `@Entity` 사용)
      

### 통합하기 전략

- 장점
    - 구분하기 전략에 비해 개발 속도가 빠르다
        - 하나의 클래스만 관리하면 되기 때문
- 단점
    - 클래스의 책임이 눈에 들어오지 않는다
    - 도메인 모델이 커질수록 모델 관리가 어렵다
        - 도메인 모델에 영속성 객체와 관련된 코드가 있으면 개발자는 데이터베이스 위주의 사고를 하기 쉽다
- 단일 책임 원칙을 위반
  

### 구분하기 전략

- 도메인이 ORM 같은 특정 라이브러리에 의존하지 않게 하기 위해 만들어진 전략
    - 데이터베이스 접근 라이브러리를 MyBatis나 JdbcTemplate으로도 교체가 가능하게 만들기 위함
- 작은 CRUD는 상관없지만 도메인이 많거나 MSA 기반 아키텍처에서는 사용해야 한다
    - 유지보수, 테스트, 구조적 측면에서 좋다
    - DB 없이 단위 테스트 가능
    - 스키마나 ORM 변경되어도 도메인 로직 영향 최소화

### 평가
- 통합하기 전략
    - 도메인과 영속성 객체를 통합
    - 작성해야 하는 코드의 양 감소
    - 도메인이 영속성 라이브러리에 강결합
- 구분하기 전략
    - 도메인과 영속성 객체를 분리
    - 작성해야 하는 코드의 양 증가
    - 도메인과 영속성 라이브러리 분리

<aside>
💡

- 어떤 방식이 정답인지는 설계에 따라 달라진다
</aside>
